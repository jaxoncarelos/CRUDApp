import{S as R,i as q,s as J,k as p,q as b,a as I,l as d,m as y,r as C,h as v,c as L,p as V,n as o,b as j,D as a,I as k,J as P,B as F,K as x,w as z,x as H,y as K,f as M,t as G,z as Q}from"../../../chunks/index-020402b1.js";function W(c){let t,s,e,i,w,l,n,$,r,D,f,U,E,h,S,T,N;return{c(){t=p("div"),s=p("div"),e=p("h1"),i=b("Login"),w=I(),l=p("form"),n=p("input"),$=I(),r=p("input"),D=I(),f=p("button"),U=b("Login"),E=I(),h=p("a"),S=b("Don't have an account?"),this.h()},l(u){t=d(u,"DIV",{class:!0});var m=y(t);s=d(m,"DIV",{class:!0});var _=y(s);e=d(_,"H1",{style:!0});var O=y(e);i=C(O,"Login"),O.forEach(v),w=L(_),l=d(_,"FORM",{});var g=y(l);n=d(g,"INPUT",{type:!0,placeholder:!0,key:!0,class:!0}),$=L(g),r=d(g,"INPUT",{type:!0,placeholder:!0,key:!0,class:!0}),D=L(g),f=d(g,"BUTTON",{class:!0});var A=y(f);U=C(A,"Login"),A.forEach(v),g.forEach(v),E=L(_),h=d(_,"A",{href:!0,class:!0});var B=y(h);S=C(B,"Don't have an account?"),B.forEach(v),_.forEach(v),m.forEach(v),this.h()},h(){V(e,"color","#FFF"),o(n,"type","text"),o(n,"placeholder","Username"),o(n,"key","username"),o(n,"class","svelte-1o3lvs9"),o(r,"type","password"),o(r,"placeholder","Password"),o(r,"key","password"),o(r,"class","svelte-1o3lvs9"),o(f,"class","svelte-1o3lvs9"),o(h,"href","/register"),o(h,"class","svelte-1o3lvs9"),o(s,"class","login svelte-1o3lvs9"),o(t,"class","loginBack svelte-1o3lvs9")},m(u,m){j(u,t,m),a(t,s),a(s,e),a(e,i),a(s,w),a(s,l),a(l,n),k(n,c[0]),a(l,$),a(l,r),k(r,c[1]),a(l,D),a(l,f),a(f,U),a(s,E),a(s,h),a(h,S),T||(N=[P(n,"input",c[3]),P(r,"input",c[4]),P(f,"click",c[2])],T=!0)},p(u,[m]){m&1&&n.value!==u[0]&&k(n,u[0]),m&2&&r.value!==u[1]&&k(r,u[1])},i:F,o:F,d(u){u&&v(t),T=!1,x(N)}}}function X(c,t,s){let e,i;async function w(){(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:i})})).status===200?(localStorage.setItem("CRUDAppUsername",e.toLowerCase()),localStorage.setItem("CRUDAppLoggedIn","true"),window.location.href="/"):alert("Invalid username or password")}function l(){e=this.value,s(0,e)}function n(){i=this.value,s(1,i)}return[e,i,w,l,n]}class Y extends R{constructor(t){super(),q(this,t,X,W,J,{})}}function Z(c){let t,s;return t=new Y({}),{c(){z(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,i){K(t,e,i),s=!0},p:F,i(e){s||(M(t.$$.fragment,e),s=!0)},o(e){G(t.$$.fragment,e),s=!1},d(e){Q(t,e)}}}class te extends R{constructor(t){super(),q(this,t,null,Z,J,{})}}export{te as default};
